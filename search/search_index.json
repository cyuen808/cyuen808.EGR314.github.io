{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome","text":"Caleb Yuen's Datasheet as part of  Exploration Device Project  S.C.O.U.T.S Super Cool Original and Unique Technology Systems  Team 202  <p>Submission: May, 01, 2026 </p><p></p>","tags":["tag1","tag2"]},{"location":"#introduction","title":"Introduction","text":"<p>Welcome to my individual subsystem datasheet for CropScout, a modular agricultural exploration rover developed in EGR 314. This page documents the design, implementation, and verification of my Front Arm Actuation Subsystem. The purpose of this datasheet is to provide a standalone technical reference that clearly explains what this board does, how it operates, and how it integrates into the team\u2019s UART daisy-chain system. This document is written so that a reader can understand my subsystem without needing to reference the team report.</p>","tags":["tag1","tag2"]},{"location":"#project-summary","title":"Project Summary","text":"<p>CropScout is a modular agricultural exploration device designed to simulate crop monitoring, environmental sensing, and controlled mechanical interaction.</p> <p>The full system consists of seven independent subsystems:</p> <ul> <li>Human Machine Interface (HMI) Subsystem  </li> <li>Wireless Communication Subsystem  </li> <li>Mobility Drive Actuation Subsystem  </li> <li>Accelerometer Subsystem  </li> <li>Front Arm Actuation Subsystem (This Board)  </li> <li>Metal Sensor Subsystem  </li> <li>Temperature &amp; Humidity Subsystem  </li> </ul> <p>Each subsystem is implemented as its own PCB and communicates using a standardized UART daisy-chain network over an 8-wire ribbon cable. Every board includes its own regulated power supply and must be verified independently before full system integration.</p> <p>For a complete system-level overview including Team Organization, Concept Design, Project Requirements and Block Diagram, visit the EGR 314 Team 202 Report \\</p>","tags":["tag1","tag2"]},{"location":"#my-contribution","title":"My Contribution","text":"<p>I designed and implemented the Front Arm Actuation Subsystem, which is responsible for controlled mechanical motion of CropScout\u2019s manipator assembly.</p> <p>My responsibilities included:</p> <ul> <li>Selecting and integrating the ESP32 microcontroller  </li> <li>Designing the 3.3V switching regulator and power architecture  </li> <li>Implementing bus power and barrel jack isolation jumpers  </li> <li>Interfacing with a serial stepper motor driver  </li> <li>Designing the full schematic and PCB layout  </li> <li>Developing the UART messaging API  </li> <li>Implementing command parsing and motor control logic  </li> <li>Verifying safe communication and hardware operation prior to integration  </li> </ul> <p>This subsystem enables reliable, addressable actuation within CropScout while maintaining safe operation on the shared UART network.</p>","tags":["tag1","tag2"]},{"location":"01-Requirements/Requirements/","title":"Module's Requirements","text":""},{"location":"01-Requirements/Requirements/#module-requirements-overview","title":"Module Requirements Overview","text":"<p>This section outlines the key functional and design requirements for the Front Arm Subsystem of the CropScout exploration device. The table below describes the minimum and target performance needed for the front arm to move in a controlled manner, interact safely with its environment, and detect and respond to unsafe conditions to avoid damaging the rover. These requirements help guide decisions in component selection, electrical and firmware design, and overall system integration, while ensuring the module communicates reliably over the UART daisy chain and can be operated remotely through the team\u2019s wireless control system.</p>"},{"location":"01-Requirements/Requirements/#front-arm-subsystem-module-requirements-table","title":"Front Arm Subsystem \u2014 Module Requirements Table","text":"Requirement Description Measure of Threshold TargetMeasure StretchRequirement(Y-N) Surface-mounted 3.3 V switching regulator powers MCU and logic \u2265 3.2 V output under load Stable 3.3 V regulated output No Microcontroller for motion control and communication (PIC18F47K42, programmed via MPLAB Snap) MCU boots and executes basic control loop MCC-based firmware with structured messaging and safety logic No UART interface to system daisy chain network One-way UART messaging Two-way command and status messaging No Compatibility with wireless control via UART-relayed commands Executes commands originating from wireless node Supports remote command and telemetry with low latency No Stepper motor provides base yaw rotation \u2265 180\u00b0 rotational sweep 340\u00b0 sweep (software-limited) No Stepper motors provide arm articulation 2 controlled joints 3 controlled joints Yes Stepper motor drivers support selected motors Basic motion without stalling at low speed Smooth motion under expected mechanical load No Serial-controlled stepper driver (SPI/I\u00b2C/UART) for actuator compliance Driver configurable via serial interface Fault, current, or status readback available No Homing or reference sensors for repeatable positioning At least one homing switch One homing sensor per joint Yes Overload or fault response behavior Motion stops on fault detection Stop, retract to home position, and send error report No"},{"location":"02-Block-Diagram/Block-Diagram/","title":"Module's Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"02-Block-Diagram/Block-Diagram/#overview","title":"Overview","text":"<p>This block diagram shows how the Front Arm Subsystem for the EGR 314 exploration device is electrically organized. The system is centered around a PIC18F47K42 microcontroller, which communicates with the rest of the rover through a bidirectional UART daisy-chain. A stepper motor is used for base rotation and is controlled through an SPI-based stepper motor driver, while RC servos are included as instructor-approved stretch goals and are driven directly using PWM outputs from the microcontroller. Separate power regulation is provided for the microcontroller, servos, and motors, and homing and fault/status signals are included to ensure safe and reliable operation.</p>","tags":["tag1","tag2"]},{"location":"02-Block-Diagram/Block-Diagram/#block-diagram","title":"Block Diagram","text":"","tags":["tag1","tag2"]},{"location":"02-Block-Diagram/Block-Diagram/#key-interfaces","title":"Key Interfaces","text":"<ul> <li>UART (2 pins, bidirectional): Daisy-chain communication with upstream and downstream subsystems  </li> <li>SPI (4 pins): Control of stepper motor driver for base rotation  </li> <li>SPI (3 pins): Control of PWM servo driver (stretch goal)  </li> <li>GPIO: Homing switch input and fault/status feedback  </li> </ul>","tags":["tag1","tag2"]},{"location":"02-Block-Diagram/Block-Diagram/#power-architecture","title":"Power Architecture","text":"<ul> <li>14V DC input via barrel jack  </li> <li>3.3V switching regulator for MCU and logic  </li> <li>5V regulator for servo power  </li> <li>14V rail used directly by the stepper motor driver  </li> </ul> <p>Note: RC servos are included as stretch goals and are an instructor-approved exception to the standard EGR 314 actuator constraints.</p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/","title":"Module's Selected Major Components","text":"","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#selected-major-components","title":"Selected Major Components","text":"","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#power-management","title":"Power Management","text":"","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#5v-buck-regulator","title":"5V Buck Regulator","text":"<pre><code>1. LM22678TJ-5.0/NOPB\n</code></pre> <ul> <li>$7.61/each  </li> <li>Link to product</li> </ul> Pros Cons 5A output capability supports high-current subsystems. Requires external inductor, diode, and capacitors. Wide input range (4.5V\u201342V) works well with 9V barrel jack input. Larger TO-263 footprint increases PCB space usage. Fixed 5V output simplifies power design. Not synchronous, so efficiency is lower than modern buck regulators. Surface-mount package meets EGR314 requirement. Requires careful PCB layout to minimize switching noise. <pre><code>2. LM22679TJE-5.0/NOPB\n</code></pre> <ul> <li>$8.62/each  </li> <li>Link to product</li> </ul> Pros Cons 5A output capability. Requires external inductor, diode, and capacitors. Wide input range (4.5V\u201342V). Large TO-263 footprint. Surface-mount (meets EGR314 requirement). Not synchronous (lower efficiency than modern buck ICs). SIMPLE SWITCHER series (proven, reliable design). Careful PCB layout required for switching noise. <pre><code>3. LM2678T-5.0/NOPB\n</code></pre> <ul> <li>$6.99/each  </li> <li>Link to product</li> </ul> Pros Cons 5A output capability. Through-hole package (does NOT meet surface-mount requirement). Proven SIMPLE SWITCHER design. Larger footprint (TO-220). Lower cost than surface-mount versions. Requires external inductor and diode. Easy prototyping due to TO-220 package. Lower switching frequency (260kHz \u2192 larger external components).","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#5v-regulator-choice","title":"5V Regulator Choice","text":"<p>Selected Component: LM22678TJ-5.0/NOPB  </p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#rationale","title":"Rationale","text":"<p>The LM22678TJ-5.0/NOPB was chosen because it can supply up to 5A, giving plenty of headroom for motors and other high-current loads. Its wide input range works well with the 9V barrel jack, and the fixed 5V output keeps the design simple. It also meets the surface-mount requirement for the project and is practical to route on the PCB.</p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#33v-buck-regulator","title":"3.3V Buck Regulator","text":"<pre><code>1. LM2651MTCX-3.3/NOPB\n</code></pre> <ul> <li>$4.43/each  </li> <li>Link to product</li> </ul> Pros Cons 3.3V fixed output (ideal for microcontroller rail). Only 1.5A output current. Synchronous rectifier (better efficiency than older bucks). 300kHz switching \u2192 larger external components than 1MHz designs. Surface-mount (16-TSSOP). Requires external inductor and capacitors. Input range up to 14V (works with 9V barrel input). Slightly older architecture. <pre><code>2. LM2655MTCX-3.3/NOPB\n</code></pre> <ul> <li>$5.76/each  </li> <li>Link to product</li> </ul> Pros Cons Higher output current (2.5A). Not synchronous (lower efficiency than LM2651). 3.3V fixed output. 300kHz switching frequency. Surface-mount (16-TSSOP). Requires external inductor and capacitors. Works with 9V input. Slightly higher cost than 1.5A option. <pre><code>3. MAX77503BEWC33+T\n</code></pre> <ul> <li>$2.09/each  </li> <li>Link to product</li> </ul> Pros Cons High switching frequency (1MHz \u2192 smaller inductor &amp; caps). WLP package (very small, harder to solder). Synchronous rectifier (high efficiency). 1.5A max output current. Compact footprint (excellent for dense PCB layout). More challenging PCB layout due to small pitch. Lower cost than TI options. Harder to hand assemble.","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#33v-regulator-choice","title":"3.3V Regulator Choice","text":"<p>Selected Component: LM2651MTCX-3.3/NOPB  </p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#rationale_1","title":"Rationale","text":"<p>The LM2651MTCX-3.3/NOPB was selected to power the 3.3V logic rail for the microcontroller and sensors. It provides more than enough current for the system while maintaining good efficiency with its synchronous design. The surface-mount package satisfies project constraints and is easier to work with than smaller wafer-level packages.</p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#dc-barrel-jack-14v-input","title":"DC Barrel Jack 14V Input","text":"<pre><code>1. PJ-036AH-SMT-TR\n</code></pre> <ul> <li>$1.37/each  </li> <li>Link to product</li> </ul> Pros Cons Surface-mount, right-angle design. Rated for 24V and 5A (adequate but not oversized). 2.1mm ID / 5.5mm OD (standard barrel size). Slightly more expensive than other options. 5A current rating supports motor loads. Larger footprint. Includes internal switch (can disconnect external supply automatically). Moderate PCB space required. <pre><code>2. 54-00164\n</code></pre> <ul> <li>$0.86/each  </li> <li>Link to product</li> </ul> Pros Cons Lower cost option. Slightly lower build robustness compared to Same Sky parts. Surface-mount, right-angle. 5.5A rating is close to system maximum. 2.1mm ID / 5.5mm OD standard size. Larger footprint. 48V rating provides voltage margin. No special locking feature. <pre><code>3. PJ-006A-SMT-TR\n</code></pre> <ul> <li>$0.95/each  </li> <li>Link to product</li> </ul> Pros Cons Surface-mount. 4A current rating (lower than other options). Standard 2.1mm / 5.5mm barrel size. 18V rating (less headroom if future input voltage increases). Compact footprint. Lower current capacity for high motor loads. Lower cost. Fewer safety margins compared to 5A-rated options.","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#barrel-jack-choice","title":"Barrel Jack Choice","text":"<p>Selected Component: PJ-036AH-SMT-TR (2.1mm ID / 5.5mm OD, right-angle, SMT)</p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#rationale_2","title":"Rationale","text":"<p>The PJ-036AH-SMT-TR was selected because it is a surface-mount, right-angle barrel jack with a 5A current rating, giving solid headroom for the rover\u2019s power needs. It uses the standard 2.1mm x 5.5mm barrel size, so it matches common 9\u201312V adapters. This part also provides a reliable mechanical connection while keeping assembly simple and consistent with the project\u2019s surface-mount design approach.</p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#switch","title":"Switch","text":"","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#homing-limit-switch-options","title":"Homing (Limit) Switch Options","text":"<pre><code>1. D2F-L\n</code></pre> <ul> <li>$1.41/each  </li> <li>Link to product</li> </ul> Pros Cons High 3A current rating (very durable). Oversized for logic-level homing signal. Industrial-grade Omron quality. Larger physical size. 125V AC / 30V DC rating. Higher cost than needed. <pre><code>2. D2F-01\n</code></pre> <ul> <li>$1.86/each  </li> <li>Link to product</li> </ul> Pros Cons 30V DC rating provides safe voltage margin. Slightly more expensive than budget options. 100mA rating is more than enough for microcontroller input. Through-hole mounting. Reliable Omron industrial design. Moderate footprint size. Compact and widely used for limit switches. <pre><code>3. TS0101F020P\n</code></pre> <ul> <li>$0.84/each  </li> <li>Link to product</li> </ul> Pros Cons Lowest cost option. Only rated for 6V DC. Compact size. Lower durability rating. 300mA rating sufficient for signal-level use. Less robust compared to Omron switches.","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#homing-switch-choice","title":"Homing Switch Choice","text":"<p>Selected Component: D2F-01  </p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#rationale_3","title":"Rationale","text":"<p>The D2F-01 was selected because it provides reliable SPDT operation with a 30V DC rating, giving a comfortable safety margin for a 3.3V or 5V logic signal. Its 100mA rating is more than sufficient for a homing input while avoiding unnecessary oversizing. This option offers a strong balance of reliability, durability, and cost for the subsystem.</p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#actuators","title":"Actuators","text":"","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#servos","title":"Servos","text":"<pre><code>1. CN0193 \u2013 20KG High Torque Servo\n</code></pre> <ul> <li>$15.50/each  </li> <li>Link to product</li> </ul> Pros Cons Very high torque (20kg\u00b7cm). Largest and heaviest option. Handles heavy arm loads. Higher current draw. Wide operating range (4.8\u20137.2V). More expensive than smaller servos. <pre><code>2. Adafruit 1142 \u2013 High Torque 5V Servo\n</code></pre> <ul> <li>$19.95/each  </li> <li>Link to product</li> </ul> Pros Cons Decent torque (140 oz-in). Higher cost. Operates at 5V. Lower torque than CN0193. Good build quality. Slightly bulky. <pre><code>3. Adafruit 2307 \u2013 Metal Gear Micro Servo\n</code></pre> <ul> <li>$11.95/each  </li> <li>Link to product</li> </ul> Pros Cons Compact and lightweight. Lower torque output. Lower current draw. Not suitable for heavy loads. Metal gears improve durability. Limited lifting capacity.","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#shoulder-elbow-choice","title":"Shoulder / Elbow Choice","text":"<p>Selected Component: CN0193  </p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#rationale_4","title":"Rationale","text":"<p>The CN0193 was selected for the shoulder and elbow joints because these joints experience the highest torque loads. The 20kg\u00b7cm rating provides sufficient lifting capability for the arm structure and payload. Although it draws more current and is physically larger, the added torque margin improves reliability and reduces the risk of stalling under load.</p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#wrist-choice","title":"Wrist Choice","text":"<p>Selected Component: Adafruit 2307  </p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#rationale_5","title":"Rationale","text":"<p>The Adafruit 2307 was selected for the wrist because this joint requires significantly less torque. Using a smaller servo reduces weight at the end of the arm, lowering inertia and improving responsiveness. It also reduces power consumption while still meeting the functional requirements of the wrist joint.</p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#stepper-motors","title":"Stepper Motors","text":"<pre><code>1. MOT-I-81619 \u2013 NEMA 17 Hybrid Stepper (7V, 1.2A)\n</code></pre> <ul> <li>$22.96/each  </li> <li>Link to product</li> </ul> Pros Cons Higher current (1.2A) provides stronger torque capability. Higher current draw increases power requirements. Standard NEMA 17 frame. Lower voltage (7V) may require tighter driver control. 200 steps/rev (1.8\u00b0 resolution). Moderate cost. <pre><code>2. MOT-I-81656 \u2013 NEMA 17 Hybrid Stepper (12V, 400mA)\n</code></pre> <ul> <li>$37.06/each  </li> <li>Link to product</li> </ul> Pros Cons Lower current (400mA) reduces power consumption. More expensive option. 12V rated (compatible with common 12V systems). Lower torque than 1.2A option. Standard NEMA 17 footprint. Longer motor body increases size. <pre><code>3. NEMA17-13-04SD-AMT112S \u2013 Stepper w/ Integrated Encoder\n</code></pre> <ul> <li>$113.45/each  </li> <li>Link to product</li> </ul> Pros Cons Integrated encoder enables closed-loop control. Very high cost. Higher voltage range (24\u201348V). More complex control requirements. Improved positioning accuracy. Overkill for basic stepper control needs.","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#stepper-motor-selection","title":"Stepper Motor Selection","text":"<p>Selected Component: MOT-I-81619  </p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#rationale_6","title":"Rationale","text":"<p>The MOT-I-81619 was selected because it provides sufficient torque with a 1.2A current rating while maintaining a standard NEMA 17 footprint. It offers strong performance without the added complexity and cost of an integrated encoder. Compared to the 400mA option, this motor provides better torque margin, which improves reliability under load. The encoder-equipped model was not selected due to cost and unnecessary complexity for this application.</p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#stepper-motor-driver","title":"Stepper Motor Driver","text":"<pre><code>1. TMC2209-LA\n</code></pre> <ul> <li>$5.20 each  </li> <li>Link to product</li> </ul> Pros Cons Up to 2A output current QFN package (harder to hand solder) UART configuration capability 28-pin layout increases PCB complexity Very smooth microstepping (1/256) Longer lead time Quiet operation (great for robotics) Requires careful thermal layout <pre><code>2. DRV8889PWPRQ1\n</code></pre> <ul> <li>$5.02 each  </li> <li>Link to product</li> </ul> Pros Cons 1.5A output current Lower current than other options Automotive qualified (AEC-Q100) Larger footprint SPI interface option Requires configuration setup 1/256 microstepping Moderate soldering difficulty <pre><code>3. DRV8434SRGER\n</code></pre> <ul> <li>$3.96 each  </li> <li>Link to product</li> </ul> Pros Cons Up to 2.5A output current QFN package (advanced soldering) Wide supply range (4.5V\u201348V) Requires careful PCB thermal layout 1/256 microstepping No advanced stall detection Lower cost Slightly more design complexity","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#stepper-driver-choice","title":"Stepper Driver Choice","text":"<p>Selected Component: DRV8434SRGER  </p>","tags":["tag1","tag2"]},{"location":"03-Component-Selection/Component-Selection/#rationale_7","title":"Rationale","text":"<p>The DRV8434SRGER was selected because it provides the highest current capability (2.5A), giving additional torque margin for the NEMA 17 stepper motor. It supports a 12V system comfortably and offers strong microstepping performance at a lower cost. This driver provides the best balance of performance, scalability, and cost for the front arm subsystem.</p>","tags":["tag1","tag2"]},{"location":"04-BOM/BOM/","title":"Module Bill of Materials","text":"","tags":["tag1","tag2"]},{"location":"04-BOM/BOM/#overview","title":"Overview","text":"<p>Written context needs to added!</p> <p>Pick ONLY one of the two examples show below. Remove the other example. REMOVE notations within the remaining section about being an example. </p>","tags":["tag1","tag2"]},{"location":"04-BOM/BOM/#bill-of-materials-example-as-table","title":"Bill of Materials (Example as Table)","text":"<p>Table ##: An example of one approach to adding your BOM table to this section.</p> Part Name/Description Qty Unit Cost Total Cost Manufacture Manufacturer # Vendor Link Datasheet Link Schematic Reference Designators 8-bit SIPO/SISO Shift Register, SOIC-16 package 1 $0.49 $ 0.49 NXP 74HC595D,112 DigiKey datasheet link U1 0.1 \u00b5F Ceramic Capacitor, +/-10%, X7R, 50V, 0805 package 10 0.2750 $2.75 KEMET C0805F104K5RACTU PRLTA 109 n/a C2, C4, C6, C7, C8, C9, C10, C11, C12, C16 <p>Note: Setting it up as a table is nice because it is completely viewable without scaling issues. Downside is that you have to do the math.</p> <ul> <li>You could also import your BOM via a screenshot of the spreadsheet created BOM</li> </ul>","tags":["tag1","tag2"]},{"location":"04-BOM/BOM/#bill-of-materials-example-as-image","title":"Bill of Materials (Example as Image)","text":"<p> Figure ##: Example Bill of Materials as a screenshot.</p> <p>As you can see, the text can be difficult to read without opening the image.</p>","tags":["tag1","tag2"]},{"location":"04-BOM/BOM/#resouce","title":"Resouce","text":"<p>The Bill of Material as a PDF download is available here.</p>","tags":["tag1","tag2"]},{"location":"05-Schematic/schematic/","title":"Module Schematic","text":""},{"location":"05-Schematic/schematic/#overview","title":"Overview","text":"<p>This schematic supports the full Front Arm Subsystem of the EGR 314 exploration rover. It integrates power management, motion control, and microcontroller interfacing into a single modular design. The Symbols for the Barrel jack, ESP32, 3.3V/5V Regulator, and Stepper Motor Driver was sourced by Digikey.</p> <p>The system includes:</p> <ul> <li>+14V input from 14V barrel jack or 14.4V battery pack</li> <li>Protection main SMD fuse on the +14V input rail</li> <li>5V buck regulator dedicated to servo power</li> <li>3.3V buck regulator for ESP32-S3 and logic</li> <li>DRV8434S stepper motor driver (SPI controlled)</li> <li>Three RC servo outputs (Shoulder, Elbow, Wrist)</li> <li>UART daisy-chain communication interface</li> <li>USB programming and debugging interface</li> <li>Fault monitoring and current limiting via VREF network</li> </ul> <p>This schematic ensures clean power distribution, safe current limiting for the NEMA 17 motor (1.2A rated), and robust GPIO-level interfacing at 3.3V.</p>"},{"location":"05-Schematic/schematic/#full-system-schematic","title":"Full System Schematic","text":"<p> Figure 5.1 \u2013 Front Arm Subsystem Electrical Schematic</p>"},{"location":"05-Schematic/schematic/#key-functional-blocks","title":"Key Functional Blocks","text":""},{"location":"05-Schematic/schematic/#power-management","title":"Power Management","text":"<ul> <li>14V Input Selection (Barrel Jack / Battery)</li> <li>LM22678 5V Buck Regulator for Servos</li> <li>LM2651 3.3V Buck Regulator for ESP32 &amp; Logic</li> <li>Proper decoupling, filtering, and PWR_FLAG validation</li> <li>Fuse (F1) on the +14V rail before feeding the rest of the board</li> </ul>"},{"location":"05-Schematic/schematic/#stepper-motor-control","title":"Stepper Motor Control","text":"<ul> <li>DRV8434S Stepper Driver</li> <li>Adjustable current limit via VREF resistor divider</li> <li>SPI configuration (SCLK, SDI, SDO, NSCS)</li> <li>STEP/DIR control</li> <li>nFAULT monitoring (open-drain with pull-up)</li> </ul>"},{"location":"05-Schematic/schematic/#servo-outputs","title":"Servo Outputs","text":"<ul> <li>Three 5V PWM-controlled RC servo headers</li> <li>Dedicated +5V rail</li> <li>Shared system ground</li> </ul>"},{"location":"05-Schematic/schematic/#microcontroller-interface","title":"Microcontroller Interface","text":"<ul> <li>ESP32-S3-WROOM-1</li> <li>3.3V logic</li> <li>UART daisy-chain interface</li> <li>USB interface for programming</li> <li>Reset and Boot control circuitry</li> </ul>"},{"location":"05-Schematic/schematic/#resources","title":"Resources","text":"<ul> <li>Download Full Schematic PDF</li> <li>Download Project ZIP</li> </ul>"},{"location":"07-Power-Budget/Power-Budget/","title":"Power Budget","text":""},{"location":"07-Power-Budget/Power-Budget/#power-budget","title":"Power Budget","text":""},{"location":"07-Power-Budget/Power-Budget/#overview","title":"Overview","text":"<p>This power budget verifies that the selected regulators and external supply can safely power all major components in the subsystem. Maximum current values were taken from component datasheets and a 25% safety margin was added per EGR 314 requirements.</p>"},{"location":"07-Power-Budget/Power-Budget/#section-a-major-power-consuming-components","title":"Section A \u2013 Major Power-Consuming Components","text":"Component Voltage Rail Max Current (A) PIC18F47K42 3.3V 0.05 A DRV8434SRGER (logic) 3.3V 0.02 A Stepper Motor (MOT-I-81619) 9V Rail 1.20 A CN0193 Servo (Shoulder) 5V 1.50 A (stall) CN0193 Servo (Elbow) 5V 1.50 A (stall) Adafruit 2307 Servo (Wrist) 5V 0.80 A (stall) <p>Note: Servo currents represent stall conditions (worst case).</p>"},{"location":"07-Power-Budget/Power-Budget/#section-b-power-rail-totals-with-25-safety-margin","title":"Section B \u2013 Power Rail Totals (With 25% Safety Margin)","text":""},{"location":"07-Power-Budget/Power-Budget/#33v-rail","title":"3.3V Rail","text":"<p>Total current: 0.05 + 0.02 = 0.07 A</p> <p>With 25% margin: 0.07 \u00d7 1.25 = 0.088 A</p> <p>Selected Regulator: LM2651MTCX-3.3 (1.5A max)</p> <p>\u2714 Regulator capacity exceeds required current.</p>"},{"location":"07-Power-Budget/Power-Budget/#5v-rail","title":"5V Rail","text":"<p>Total servo stall current: 1.50 + 1.50 + 0.80 = 3.80 A</p> <p>With 25% margin: 3.80 \u00d7 1.25 = 4.75 A</p> <p>Selected Regulator: LM22678TJ-5.0 (5A max)</p> <p>\u2714 Regulator capacity slightly exceeds required worst-case load. \u26a0 Large output capacitors recommended due to servo transients.</p>"},{"location":"07-Power-Budget/Power-Budget/#9v-rail-motor-supply","title":"9V Rail (Motor Supply)","text":"<p>Stepper Motor max current: 1.20 A</p> <p>With 25% margin: 1.20 \u00d7 1.25 = 1.50 A</p> <p>External Supply Required: Minimum 9V @ 2A recommended</p>"},{"location":"07-Power-Budget/Power-Budget/#section-c-regulator-selection","title":"Section C \u2013 Regulator Selection","text":"Rail Regulator Max Output Required Status 3.3V LM2651MTCX-3.3 1.5A 0.088A \u2714 Safe 5V LM22678TJ-5.0 5A 4.75A \u2714 Safe 9V External Adapter \u22652A 1.50A \u2714 Safe"},{"location":"07-Power-Budget/Power-Budget/#section-d-external-power-source","title":"Section D \u2013 External Power Source","text":"<p>Selected External Supply: 9V DC Wall Adapter (minimum 2A rating)</p> <p>Total Worst-Case System Draw: Approximately 5\u20136A combined across rails (not simultaneous peak on all rails due to regulator conversion).</p> <p>The selected adapter provides sufficient headroom when accounting for regulator efficiency and transient loads.</p>"},{"location":"07-Power-Budget/Power-Budget/#conclusion","title":"Conclusion","text":"<p>All power rails meet the 25% safety margin requirement. The selected 5V and 3.3V switching regulators provide sufficient current capacity for worst-case operation. The 9V external supply recommendation ensures adequate power delivery for motor and servo loads.</p> <p>(Final spreadsheet version to be attached.)</p>"},{"location":"07-Power-Budget/Power-Budget/#power-budget_1","title":"Power Budget","text":""},{"location":"07-Power-Budget/Power-Budget/#downloads","title":"Downloads","text":"<p>The Power Budget template can be downloaded below:  </p> <ul> <li>Power Budget (.xlsx) </li> <li>Power Budget (.pdf) </li> </ul>"},{"location":"08-Microcontroller%20Selection/Microcontroller-Selection/","title":"Microcontroller Selection","text":"","tags":["tag1","tag2"]},{"location":"08-Microcontroller%20Selection/Microcontroller-Selection/#microcontroller-selection","title":"Microcontroller Selection","text":"","tags":["tag1","tag2"]},{"location":"08-Microcontroller%20Selection/Microcontroller-Selection/#overview","title":"Overview","text":"<p>The selected microcontroller for this subsystem is the Microchip PIC18F47K42 (surface-mount version). This device was chosen to support UART communication for the team daisy chain network, SPI communication for the stepper motor driver, PWM outputs for servo control, and GPIO inputs for limit switch detection. The PIC18F47K42 provides sufficient hardware resources while maintaining compatibility with MPLAB X and MCC Melody.</p>","tags":["tag1","tag2"]},{"location":"08-Microcontroller%20Selection/Microcontroller-Selection/#project-specific-resource-requirements","title":"Project-Specific Resource Requirements","text":"<p>Based on the electrical block diagram, the following hardware resources are required:</p> <ul> <li>1x UART \u2013 Daisy chain communication</li> <li>1x SPI peripheral \u2013 Stepper motor driver control</li> <li>3x PWM outputs \u2013 Shoulder, elbow, and wrist servos</li> <li>1x Digital input (GPIO) \u2013 Homing switch</li> <li>ICSP programming interface \u2013 MPLAB Snap</li> <li>Additional GPIO \u2013 Fault input and debugging LEDs</li> </ul> <p>The PIC18F47K42 supports all of these peripherals simultaneously without resource conflicts.</p>","tags":["tag1","tag2"]},{"location":"08-Microcontroller%20Selection/Microcontroller-Selection/#pic18f47k42-key-features-relevant-to-design","title":"PIC18F47K42 Key Features Relevant to Design","text":"<ul> <li>3.3V operation (compatible with logic rail)</li> <li>Multiple UART modules</li> <li>Multiple SPI modules</li> <li>Multiple CCP/PWM modules</li> <li>Sufficient GPIO pins for subsystem control</li> <li>Supported in MPLAB X with MCC Melody</li> </ul> <p>The device provides excess hardware resources beyond minimum requirements, allowing room for future expansion if necessary.</p>","tags":["tag1","tag2"]},{"location":"08-Microcontroller%20Selection/Microcontroller-Selection/#peripheral-compatibility-check","title":"Peripheral Compatibility Check","text":"","tags":["tag1","tag2"]},{"location":"08-Microcontroller%20Selection/Microcontroller-Selection/#stepper-motor-driver-drv8434srger","title":"Stepper Motor Driver (DRV8434SRGER)","text":"<ul> <li>SPI-compatible</li> <li>Accepts 3.3V logic signals from PIC</li> <li>STEP/DIR and control signals supported</li> </ul>","tags":["tag1","tag2"]},{"location":"08-Microcontroller%20Selection/Microcontroller-Selection/#servos-cn0193-adafruit-2307","title":"Servos (CN0193 &amp; Adafruit 2307)","text":"<ul> <li>Controlled via PWM</li> <li>Operate from 5V rail</li> <li>PWM signals generated directly from PIC</li> </ul>","tags":["tag1","tag2"]},{"location":"08-Microcontroller%20Selection/Microcontroller-Selection/#homing-switch-d2f-01","title":"Homing Switch (D2F-01)","text":"<ul> <li>Connected to GPIO input</li> <li>Uses pull-up configuration</li> <li>Logic-level detection (3.3V safe)</li> </ul> <p>No known hardware conflicts exist between the PIC and selected peripherals.</p>","tags":["tag1","tag2"]},{"location":"08-Microcontroller%20Selection/Microcontroller-Selection/#mcc-configuration","title":"MCC Configuration","text":"<p>An MPLAB X project has been created using the PIC18F47K42. MCC Melody was used to configure:</p> <ul> <li>UART module</li> <li>SPI module</li> <li>PWM modules</li> <li>GPIO inputs and outputs</li> </ul> <p>All required pins were successfully allocated without conflicts. No resource errors were reported during configuration.</p> <p>(Screenshot of MCC configuration to be added.)</p>","tags":["tag1","tag2"]},{"location":"08-Microcontroller%20Selection/Microcontroller-Selection/#final-microcontroller-choice","title":"Final Microcontroller Choice","text":"<p>Selected Microcontroller: PIC18F47K42 (Surface-Mount)</p>","tags":["tag1","tag2"]},{"location":"08-Microcontroller%20Selection/Microcontroller-Selection/#rationale","title":"Rationale","text":"<p>The PIC18F47K42 was selected because it satisfies all subsystem communication and control requirements while maintaining compatibility with team standards. It provides sufficient SPI, UART, PWM, and GPIO resources without exceeding design complexity. The device is fully supported within MPLAB X and MCC, making development and debugging efficient for this subsystem.</p>","tags":["tag1","tag2"]},{"location":"Appendix/","title":"Appendix - Main Page","text":"<p>The Appendix is where supporting information goes that is not in the main body. Remove note before Review</p>"},{"location":"Appendix/#appendix-content","title":"Appendix Content","text":"<ul> <li>Component Selection Process</li> <li>Microcontroller Selection Process (to Pic)</li> <li>Power Budget</li> <li>Example 01 (Need to remove/hide before review!)</li> <li>Example 02 (Need to remove/hide before review!)</li> </ul>"},{"location":"Appendix/01-Componet-Selection/Component-Selection-Process/","title":"Appendix - Module's Major Components Selection Process","text":""},{"location":"Appendix/01-Componet-Selection/Component-Selection-Process/#modules-major-components-selection-process","title":"Module's Major Components Selection Process","text":"<p>For each of the following sections, use one of the two styles given near the end. REMOVE THIS NOTE</p>"},{"location":"Appendix/01-Componet-Selection/Component-Selection-Process/#power-management","title":"Power Management","text":"<p>(remove this note/placeholder: this is where your 3.3 volt switching regulator, any other needed power regulator, and power source {if applicable})</p>"},{"location":"Appendix/01-Componet-Selection/Component-Selection-Process/#sensor","title":"Sensor","text":"<p>(remove this note/placeholder: if applicable, this is where your go through the sensor selection process, otherwise, remove this section.)</p>"},{"location":"Appendix/01-Componet-Selection/Component-Selection-Process/#actuator","title":"Actuator","text":"<p>(remove this note/placeholder: if applicable, this is where your go through the motor selection process which includes both the driver and motor, otherwise, remove this section.)</p> <p>Remove the following before submitting!</p>"},{"location":"Appendix/01-Componet-Selection/Component-Selection-Process/#style-1","title":"Style 1","text":"<p>This is the example found in the assignment, uses more html</p> <p>Table 1: Example component selection</p> <p>External Clock Module</p> Solution Pros Cons Option 1. XC1259TR-ND surface mount crystal$1/eachlink to product * Inexpensive[^1]* Compatible with PSoC* Meets surface mount constraint of project * Requires external components and support circuitry for interface* Needs special PCB layout. * Option 2. * CTX936TR-ND surface mount oscillator * $1/each * Link to product * Outputs a square wave * Stable over operating temperature  * Direct interface with PSoC (no external circuitry required) range * More expensive * Slow shipping speed <p>Choice: Option 2: CTX936TR-ND surface mount oscillator</p> <p>Rationale: A clock oscillator is easier to work with because it requires no external circuitry in order to interface with the PSoC. This is particularly important because we are not sure of the electrical characteristics of the PCB, which could affect the oscillation of a crystal. While the shipping speed is slow, according to the website if we order this week it will arrive within 3 weeks.</p>"},{"location":"Appendix/01-Componet-Selection/Component-Selection-Process/#style-2","title":"Style 2","text":"<p>Also acceptable, more markdown friendly</p> <p>External Clock Module</p> <ol> <li> <p>XC1259TR-ND surface mount crystal</p> <p></p> <ul> <li>$1/each</li> <li>link to product</li> </ul> Pros Cons Inexpensive Requires external components and support circuitry for interface Compatible with PSoC Needs special PCB layout. Meets surface mount constraint of project </li> <li> <p>CTX936TR-ND surface mount oscillator</p> <p></p> <ul> <li>$1/each</li> <li>Link to product</li> </ul> Pros Cons Outputs a square wave More expensive Stable over operating temperature Slow shipping speed Direct interface with PSoC (no external circuitry required) range </li> </ol> <p>Choice: Option 2: CTX936TR-ND surface mount oscillator</p> <p>Rationale: A clock oscillator is easier to work with because it requires no external circuitry in order to interface with the PSoC. This is particularly important because we are not sure of the electrical characteristics of the PCB, which could affect the oscillation of a crystal. While the shipping speed is slow, according to the website if we order this week it will arrive within 3 weeks.</p>"},{"location":"Appendix/02-Microcontroller-Selection/esp-32-table/","title":"Appendix - Controller Table for the ESP32","text":"ESP Info Answer Help Model ? Include the entire part number (leave off any letters at the end that specify the package type) Product Page URL ? Found on Espressif.com ESP32-S3-WROOM-1-N4 Datasheet URL ? Do not paste links directly into the table.  Use a link ESP32 S3 Datasheet URL ? Has more detail on functions ESP32 S3 Technical Reference Manual URL ? Has details on I/O multiplexing, USB, and others Vendor link ? Digikey, Jameco, etc.  Do not paste links directly into the table.  Use a link Code Examples ? url(s) for libraries on github or other sites related to the microcontroller and your planned peripherals External Resources URL(s) ? Search on Google and YouTube for other resources for each specific microcontroller. Unit cost ? Find on Digikey, Jameco, MPJA, or octopart Absolute Maximum Current for entire IC ? Find in the microcontroller datasheet Supply Voltage Range ? Min / Nominal / Max / Absolute Max, as found in datasheet Absolute Maximum current  (for entire IC) ? as found in datasheet Maximum GPIO current  (per pin) ? as found in datasheet Supports External Interrupts? ? as found in datasheet Required Programming Hardware, Cost, URL ? as found in datasheet Module # Available Needed Associated Pins (or * for any) UART ? ? ? external SPI* ? ? ? I2C ? ? ? GPIO ? ? ? ADC ? ? ? LED PWM ? ? ? Motor PWM ? ? ? USB Programmer ? 1 ? ... <p>* The ESP32-S2 has multiple SPI interfaces, but some are for internal use</p>"},{"location":"Appendix/02-Microcontroller-Selection/pic-table/","title":"Appendix - Controller Table for the PIC","text":"PIC Info Answer Help Model ? Include the entire part number (leave off any letters at the end that specify the package type) Product Page URL ? Do not paste links directly into the table.  Use a link Datasheet URL(s) ? Do not paste links directly into the table.  Use a link Application Notes URL(s) ? Do not paste links directly into the table.  Use a link Vendor link ? Digikey, Jameco, etc.  Do not paste links directly into the table.  Use a link Code Examples ? url(s) for libraries on github or other sites related to the microcontroller and your planned peripherals External Resources URL(s) ? Search on Google and YouTube for other resources for each specific microcontroller. Unit cost ? Find in the Microchip online store, or Digikey Absolute Maximum Current for entire IC ? Find in the microcontroller datasheet Supply Voltage Range ? Min / Nominal / Max / Absolute Max, as found in datasheet Absolute Maximum current  (for entire IC) ? as found in datasheet Maximum GPIO current  (per pin) ? as found in datasheet Supports External Interrupts? ? as found in datasheet Required Programming Hardware, Cost, URL ? found on the microcontroller's product page Works with MPLabX? ? Required.  See Microchip Development Tools Works with Microchip Code Configurator? ? Can be validated in MPLabX.  Screenshot required. Module # Available Needed Associated Pins (or * for any) GPIO ? ? ? ADC ? ? ? UART ? ? ? SPI ? ? ? I2C ? ? ? PWM ? ? ? ICSP ? 1 ? ... ... ... ..."},{"location":"Appendix/03-Power-Budget/Power-Budget/","title":"Appendix - Power Budget","text":""},{"location":"Appendix/03-Power-Budget/Power-Budget/#overview","title":"Overview","text":"<p>Write a overview of what you did and why you did a Power Budget.</p> <p>Capture your power budge as a image to display. Take time to get clean breaks and a well organized layout.</p> <p></p> <p></p> <p></p>"},{"location":"Appendix/03-Power-Budget/Power-Budget/#conclusions","title":"Conclusions","text":"<p>From the prepare Power Budget, .....</p>"},{"location":"Appendix/03-Power-Budget/Power-Budget/#resouces","title":"Resouces","text":"<p>The power budget as a PDF download is available here, and a Microsoft Excel Sheet here.</p>"},{"location":"Appendix/04-Examples-to-Remove/another-subfile/","title":"Appendix - Another Subfile","text":"<p>Things to discuss</p>"},{"location":"Appendix/04-Examples-to-Remove/basic-markdown-examples/","title":"Appendix - Basic Markdown Examples","text":""},{"location":"Appendix/04-Examples-to-Remove/basic-markdown-examples/#introduction","title":"Introduction","text":"<p>Bold Text Italic Text Bold and Italic Text</p>"},{"location":"Appendix/04-Examples-to-Remove/basic-markdown-examples/#research-question","title":"Research Question","text":"<ul> <li>Bullet Point 1</li> <li>Bullet Point 2</li> <li>Bullet Point 3</li> </ul>"},{"location":"Appendix/04-Examples-to-Remove/basic-markdown-examples/#images","title":"Images","text":"<p> Figure 2: Early PCB working design</p> <p> Figure 3: Innovation Showcase Spring '25, where the products were a STEM-themed display that demonstrates a single scientific/engineering concept with the intended user of K-12 students interested in learning about science, technology, engineering, or math.</p>"},{"location":"Appendix/04-Examples-to-Remove/basic-markdown-examples/#results","title":"Results","text":"<ol> <li>Numbered Point 1</li> <li>Numbered Point 2</li> <li>Numbered Point 3</li> </ol>"},{"location":"Appendix/04-Examples-to-Remove/basic-markdown-examples/#conclusions-and-future-work","title":"Conclusions and Future Work","text":""},{"location":"Appendix/04-Examples-to-Remove/basic-markdown-examples/#external-links","title":"External Links","text":"<p>example link to idealab</p>"},{"location":"Appendix/04-Examples-to-Remove/basic-markdown-examples/#results_1","title":"Results","text":"<ol> <li>Numbered Point 1</li> <li>Numbered Point 2</li> <li>Numbered Point 3</li> </ol>"},{"location":"Appendix/04-Examples-to-Remove/basic-markdown-examples/#conclusions-and-future-work_1","title":"Conclusions and Future Work","text":""},{"location":"Appendix/04-Examples-to-Remove/basic-markdown-examples/#external-links_1","title":"External Links","text":"<p>example link to idealab</p>"},{"location":"Appendix/04-Examples-to-Remove/basic-markdown-examples/#references","title":"References","text":""},{"location":"Appendix/04-Examples-to-Remove/charts/","title":"Appendix - Charts Example","text":"<pre><code>graph LR\n  A[Start] --&gt; B{Error?};\n  B --&gt;|Yes| C[Hmm...];\n  C --&gt; D[Debug];\n  D --&gt; B;\n  B ----&gt;|No| E[Yay!];</code></pre> <pre><code>sequenceDiagram\n  autonumber\n  Alice-&gt;&gt;John: Hello John, how are you?\n  loop Healthcheck\n      John-&gt;&gt;John: Fight against hypochondria\n  end\n  Note right of John: Rational thoughts!\n  John--&gt;&gt;Alice: Great!\n  John-&gt;&gt;Bob: How about you?\n  Bob--&gt;&gt;John: Jolly good!</code></pre> <pre><code>stateDiagram-v2\n  state fork_state &lt;&lt;fork&gt;&gt;\n    [*] --&gt; fork_state\n    fork_state --&gt; State2\n    fork_state --&gt; State3\n\n    state join_state &lt;&lt;join&gt;&gt;\n    State2 --&gt; join_state\n    State3 --&gt; join_state\n    join_state --&gt; State4\n    State4 --&gt; [*]</code></pre>"}]}